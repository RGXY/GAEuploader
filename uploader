#!/usr/bin/env python

import subprocess
import os
import sys
import os.path

os.chdir(os.path.dirname(sys.argv[0]))
os.environ["CLOUDSDK_PYTHON"] = "python2.7";
subprocess.check_call(["./google-cloud-sdk/bin/gcloud", "components", "install", "alpha", "beta"])
#subprocess.check_call(["./google-cloud-sdk/install.sh"])
#subprocess.check_call(["gcloud", "init"])
appname = input("Enter your project name here: ")
#https://cloud.google.com/sdk/docs/quickstart-mac-os-x
subprocess.check_call(["./google-cloud-sdk/bin/gcloud", "alpha", "projects", "create", appname])
subprocess.check_call(["./google-cloud-sdk/bin/gcloud", "beta", "config", "set", "project", appname])
subprocess.check_call(["./google-cloud-sdk/bin/gcloud", "beta", "config", "set", "compute/zone", "zone3"])
subprocess.check_call(["./google-cloud-sdk/bin/gcloud", "beta", "app", "create", "--region=us-central", "--project=" + appname])
subprocess.check_call(["./google-cloud-sdk/bin/gcloud", "app", "deploy", "./appengine/app.yaml"])
